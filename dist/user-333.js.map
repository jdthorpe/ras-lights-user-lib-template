{"version":3,"file":"user-333.js","mappings":"4GACAA,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQE,UAAO,EACf,MAAMC,EAAa,EAAQ,KAM3BH,EAAQE,KAJR,SAAcE,GACV,IAAK,IAAIC,KAAKF,EAAWG,KACrBF,EAAGC,IAIX,EAAQ,M,YCVRP,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQO,SAAWP,EAAQM,UAAO,EAClCN,EAAQM,KAAO,GAIfN,EAAQO,SAHR,SAAkBC,GACdR,EAAQM,KAAKG,KAAKD,K,cCJtBV,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,EAAQ,IACR,EAAQ,M,aCFRH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,KAmBtD,EAlBmB,EAAQ,KAkBZM,UAAU,CAErBG,KAAM,gBAENC,KArBJ,SAAgBH,EAAGI,GACf,QAA0B,IAAfC,KAAKC,MAIZ,OAHAD,KAAKC,MAAQ,IAAIC,MAAMH,EAAQI,MAAMC,KAAK,GAC1CJ,KAAKK,WAAa,IAAIC,KACtBN,KAAKO,KAAO,EACLP,KAAKC,MAEhB,MAAMO,GAAO,IAAIF,KACjB,IAAIG,EAAQT,KAAKO,KAAQZ,EAAEe,MAAQF,EAAMR,KAAKK,WAAc,IAC5D,KAAOI,EAAQ,GAAG,CACdA,GAAS,EACT,IAAIE,EAAIC,KAAKC,MAAMD,KAAKE,SAAWf,EAAQI,MAC3CH,KAAKC,MAAMU,GAAuB,IAAlBX,KAAKC,MAAMU,GAAW,IAAM,EAGhD,OADAX,KAAKO,KAAOE,EACLT,KAAKC,OAQZc,MAAO,CACH,CACIC,IAAK,OACLC,KAAM,SACNC,MAAO,uBACPC,QAAS,EACTC,IAAK,EACLC,IAAK,MAIbC,OAAQ,c,cCpCZrC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,KAStD,EARmB,EAAQ,KAQZM,UAAU,CAErBG,KAAM,QAENC,KAXJ,SAAgBH,EAAGI,GACf,MAAM,IAAEwB,EAAG,EAAEC,GAAM7B,EACb8B,EAAM,IAAIvB,MAAMH,EAAQI,MAC9B,IAAK,IAAIQ,EAAI,EAAGA,EAAIZ,EAAQI,KAAMQ,IAC9Bc,EAAId,GAAK,IAAIY,EAAIZ,EAAIY,EAAIG,QAASF,EAAEb,EAAIa,EAAEE,SAC9C,OAAOD,GAQPV,MAAO,CACH,CACIC,IAAK,MACLC,KAAM,QACNC,MAAO,MACPC,QAAS,CACL,CAAC,EAAG,EAAG,KACP,CAAC,EAAG,IAAK,KACT,CAAC,IAAK,EAAG,OAGjB,CACIH,IAAK,IACLC,KAAM,WACNC,MAAO,IACPC,QAAS,CAAC,EAAG,GAAI,IAAK,IAAK,OAInCG,OAAQ","sources":["webpack://default-lib/./bootstrap.ts","webpack://default-lib/./register.ts","webpack://default-lib/./src/index.ts","webpack://default-lib/./src/razzle-dazzle.ts","webpack://default-lib/./src/rgb-plus-w.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.load = void 0;\nconst register_1 = require(\"./register\");\n// expose the definitions to backends\nfunction load(cb) {\n    for (let d of register_1.defs)\n        cb(d);\n}\nexports.load = load;\n// yes, this import should come last\nrequire(\"./src/index\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.register = exports.defs = void 0;\nexports.defs = [];\nfunction register(x) {\n    exports.defs.push(x);\n}\nexports.register = register;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./razzle-dazzle\");\nrequire(\"./rgb-plus-w\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction effect(x, globals) {\n    if (typeof this.state === \"undefined\") {\n        this.state = new Array(globals.leds).fill(0);\n        this.prev_time = +new Date();\n        this.frac = 0;\n        return this.state;\n    }\n    const now = +new Date();\n    let delta = this.frac + (x.rate * (now - this.prev_time)) / 1000;\n    while (delta > 1) {\n        delta -= 1;\n        let i = Math.floor(Math.random() * globals.leds);\n        this.state[i] = this.state[i] === 0 ? 255 : 0;\n    }\n    this.frac = delta;\n    return this.state;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"Razzle Dazzle\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"rate\",\n            type: \"number\",\n            label: \"Speed (count/second)\",\n            default: 5,\n            min: 1,\n            max: 1000,\n        },\n    ],\n    /* Effect Output Type */\n    output: \"number[]\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction effect(x, globals) {\n    const { rgb, w } = x;\n    const out = new Array(globals.leds);\n    for (let i = 0; i < globals.leds; i++)\n        out[i] = [...rgb[i % rgb.length], w[i % w.length]];\n    return out;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"RGB+W\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"rgb\",\n            type: \"rgb[]\",\n            label: \"RGB\",\n            default: [\n                [0, 0, 255],\n                [0, 255, 255],\n                [100, 0, 255],\n            ],\n        },\n        {\n            key: \"w\",\n            type: \"number[]\",\n            label: \"W\",\n            default: [0, 63, 127, 191, 255],\n        },\n    ],\n    /* Effect Output Type */\n    output: \"rgbw[]\",\n});\n"],"names":["Object","defineProperty","exports","value","load","register_1","cb","d","defs","register","x","push","name","func","globals","this","state","Array","leds","fill","prev_time","Date","frac","now","delta","rate","i","Math","floor","random","input","key","type","label","default","min","max","output","rgb","w","out","length"],"sourceRoot":""}