"use strict";(self.webpackChunkras_lights_user_demo=self.webpackChunkras_lights_user_demo||[]).push([[656,179],{656:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.load=void 0;const i=r(682);t.load=function(e){for(let t of i.defs)e(t)},r(607)},682:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.defs=void 0,t.defs=[],t.register=function(e){t.defs.push(e)}},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),r(49),r(141),r(869),r(126),r(500)},126:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),(0,r(682).register)({name:"Marquee Bounce",func:function(e){if(void 0===this.i)this.prev_time=+new Date,this.frac=0,this.i=0,this.dir=1;else{const t=+new Date,r=this.frac+e.rate*(t-this.prev_time)/1e3;this.prev_time=t,this.frac=r%1,r>1&&(this.i>=e.count-1?this.dir=-1:this.i<=0&&(this.dir=1),this.i+=this.dir)}const t=new Array(e.count).fill(0);return t[this.i]=255,t},input:[{key:"count",type:"integer",label:"Width",default:5,min:1,max:100},{key:"rate",type:"number",label:"Rate",default:3,min:1,max:100}],output:"number[]"})},869:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),(0,r(682).register)({name:"Marquee",func:function(e){if(void 0===this.i)this.i=0,this.prev_time=+new Date,this.frac=0;else{const t=+new Date,r=this.frac+e.rate*(t-this.prev_time)/1e3;this.i=(this.i+Math.floor(r))%e.count,this.prev_time=t,this.frac=r%1}const t=new Array(e.count).fill(0);return t[this.i]=255,t},input:[{key:"count",type:"integer",label:"Width",default:5,min:1,max:100},{key:"rate",type:"number",label:"Rate",default:3,min:1,max:100}],output:"number[]"})},49:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),(0,r(682).register)({name:"Razzle Dazzle",func:function(e,t){if(void 0===this.state)return this.state=new Array(t.leds).fill(0),this.prev_time=+new Date,this.frac=0,this.state;const r=+new Date;let i=this.frac+e.rate*(r-this.prev_time)/1e3;for(;i>1;){i-=1;let e=Math.floor(Math.random()*t.leds);this.state[e]=0===this.state[e]?255:0}return this.prev_time=r,this.frac=i,this.state},input:[{key:"rate",type:"number",label:"Speed (count/second)",default:5,min:1,max:1e3}],output:"number[]"})},141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),(0,r(682).register)({name:"RGB+W",func:function(e,t){const{rgb:r,w:i}=e,a=new Array(t.leds);for(let e=0;e<t.leds;e++)a[e]=[...r[e%r.length],i[e%i.length]];return a},input:[{key:"rgb",type:"rgb[]",label:"RGB",default:[[0,0,255],[0,255,255],[100,0,255]]},{key:"w",type:"number[]",label:"W",default:[0,63,127,191,255]}],output:"rgbw[]"})},500:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=r(682),a=r(593);(0,i.register)({name:"SmoothTo",func:function(e,t){void 0===this.from&&(console.log("smooth to globals",JSON.stringify(t)),console.dir(t),this.from=t.prev&&t.prev.map(a.asRGBW)||[[0,0,0,0]],this.start_time=+new Date);const r=+new Date;return r-this.start_time>e.fade_time?(console.log("stop"),t.stop(),[e.to]):this.from.map((t=>(0,a.average)(t,e.to,(r-this.start_time)/e.fade_time)))},input:[{key:"to",type:"rgbw",label:"To",default:[0,0,255,127]},{key:"fade_time",type:"number",label:"Fade Time (ms)",default:500,min:1,max:1e4}],output:"rgbw[]"})},593:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.asRGBW=t.average=void 0,t.average=function(e,t,r){return"number"==typeof e?function(e,t,r){return Math.floor(e*(1-r)+t*r)}(e,t,r):3===e.length?[Math.floor(e[0]*(1-r)+t[0]*r),Math.floor(e[1]*(1-r)+t[1]*r),Math.floor(e[2]*(1-r)+t[2]*r)]:[Math.floor(e[0]*(1-r)+t[0]*r),Math.floor(e[1]*(1-r)+t[1]*r),Math.floor(e[2]*(1-r)+t[2]*r),Math.floor(e[3]*(1-r)+t[3]*r)]},t.asRGBW=function(e){return"number"==typeof e?[0,0,0,e]:4===e.length?e:[...e,0]}}}]);
//# sourceMappingURL=656.js.map