{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ras-lights-user-demo/./register.ts","webpack://ras-lights-user-demo/./src/color-dazzle.ts","webpack://ras-lights-user-demo/./src/index.ts","webpack://ras-lights-user-demo/./src/marquee-bounce.ts","webpack://ras-lights-user-demo/./src/marquee.ts","webpack://ras-lights-user-demo/./src/razzle-dazzle.ts","webpack://ras-lights-user-demo/./src/rgb-plus-w.ts","webpack://ras-lights-user-demo/./src/venetian-slide.ts","webpack://ras-lights-user-demo/./src/venetian.ts","webpack://ras-lights-user-demo/webpack/bootstrap","webpack://ras-lights-user-demo/./bootstrap.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.register = exports.defs = void 0;\nexports.defs = [];\nfunction register(x) {\n    exports.defs.push(x);\n}\nexports.register = register;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction effect(inputs, globals) {\n    const { colors, rate } = inputs;\n    if (typeof this.state === \"undefined\") {\n        // INITIALIZE STATE\n        // initially all the LEDs are set to the first color\n        this.state = new Array(globals.leds);\n        for (let i = 0; i < globals.leds; i++) {\n            this.state[i] = colors[Math.floor(Math.random() * colors.length)];\n        }\n        // initialize the time of the last update\n        this.prev_time = +new Date();\n        this.frac = 0;\n        return this.state;\n    }\n    // increment the fraction of the current delay\n    const now = +new Date();\n    let delta = this.frac + (rate * (now - this.prev_time)) / 1000;\n    // if the fraction is greater than 1, then at least the delay has passed, so\n    // time to update the state\n    while (delta > 1) {\n        // decrement the number of remaining updates (we're doing one now!)\n        delta -= 1;\n        try {\n            // pick a random LED to update\n            let i = Math.floor(Math.random() * globals.leds);\n            // pick a random color\n            let ic = Math.floor(Math.random() * colors.length);\n            this.state[i] = colors[ic];\n            //   console.log(\n            //     `changing to color ${ic + 1} of ${colors.length} at index ${i}: ${\n            //       colors[ic]\n            //     }`\n            // );\n            // set the LED to a random color\n        }\n        catch (e) {\n            console.log(e);\n        }\n    }\n    // Lather rinse repeat\n    this.prev_time = now;\n    this.frac = delta;\n    return this.state;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"Color DAzzle\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"colors\",\n            type: \"rgb[]\",\n            label: \"Colors\",\n            default: [\n                [0, 0, 0],\n                [255, 255, 255],\n                [0, 255, 0],\n                [255, 0, 0],\n            ],\n        },\n        {\n            key: \"rate\",\n            type: \"number\",\n            label: \"Speed (count/second)\",\n            default: 5,\n            min: 1,\n            max: 1000,\n        },\n    ],\n    /* Effect Output Type */\n    output: \"rgb[]\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./razzle-dazzle\");\nrequire(\"./color-dazzle\");\nrequire(\"./rgb-plus-w\");\nrequire(\"./marquee\");\nrequire(\"./marquee-bounce\");\nrequire(\"./venetian\");\nrequire(\"./venetian-slide\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction effect(x) {\n    // initialization\n    if (typeof this.i === \"undefined\") {\n        // time accounting\n        this.prev_time = +new Date();\n        this.frac = 0;\n        // start state\n        this.i = 0;\n        this.dir = 1;\n    }\n    else {\n        //  time accounting\n        const now = +new Date();\n        const delta = this.frac + (x.rate * (now - this.prev_time)) / 1000;\n        // next state\n        this.prev_time = now;\n        this.frac = delta % 1;\n        // action\n        if (delta > 1) {\n            if (this.i >= x.count - 1) {\n                this.dir = -1;\n            }\n            else if (this.i <= 0) {\n                this.dir = 1;\n            }\n            this.i += this.dir;\n        }\n    }\n    // return value\n    const out = new Array(x.count).fill(0);\n    out[this.i] = 255;\n    return out;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"Marquee Bounce\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"count\",\n            type: \"integer\",\n            label: \"Width\",\n            default: 5,\n            min: 1,\n            max: 100,\n        },\n        {\n            key: \"rate\",\n            type: \"number\",\n            label: \"Rate\",\n            default: 3,\n            min: 1,\n            max: 100,\n        },\n    ],\n    /* Effect Output Type */\n    output: \"number[]\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction effect(x) {\n    // initialization\n    if (typeof this.i === \"undefined\") {\n        // start state\n        this.i = 0;\n        // time accounting\n        this.prev_time = +new Date();\n        this.frac = 0;\n    }\n    else {\n        //  time accounting\n        const now = +new Date();\n        const delta = this.frac + (x.rate * (now - this.prev_time)) / 1000;\n        this.i = (this.i + Math.floor(delta)) % x.count;\n        this.prev_time = now;\n        this.frac = delta % 1;\n    }\n    const out = new Array(x.count).fill(0);\n    out[this.i] = 255;\n    return out;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"Marquee\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"count\",\n            type: \"integer\",\n            label: \"Width\",\n            default: 5,\n            min: 1,\n            max: 100,\n        },\n        {\n            key: \"rate\",\n            type: \"number\",\n            label: \"Rate\",\n            default: 3,\n            min: 1,\n            max: 100,\n        },\n    ],\n    /* Effect Output Type */\n    output: \"number[]\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction effect(x, globals) {\n    if (typeof this.state === \"undefined\") {\n        this.state = new Array(globals.leds).fill(0);\n        this.prev_time = +new Date();\n        this.frac = 0;\n        return this.state;\n    }\n    const now = +new Date();\n    let delta = this.frac + (x.rate * (now - this.prev_time)) / 1000;\n    while (delta > 1) {\n        delta -= 1;\n        let i = Math.floor(Math.random() * globals.leds);\n        this.state[i] = this.state[i] === 0 ? 255 : 0;\n    }\n    this.prev_time = now;\n    this.frac = delta;\n    return this.state;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"Razzle Dazzle\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"rate\",\n            type: \"number\",\n            label: \"Speed (count/second)\",\n            default: 5,\n            min: 1,\n            max: 1000,\n        },\n    ],\n    /* Effect Output Type */\n    output: \"number[]\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction effect(x, globals) {\n    const { rgb, w } = x;\n    const out = new Array(globals.leds);\n    for (let i = 0; i < globals.leds; i++)\n        out[i] = [...rgb[i % rgb.length], w[i % w.length]];\n    return out;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"RGB+W\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"rgb\",\n            type: \"rgb[]\",\n            label: \"RGB\",\n            default: [\n                [0, 0, 255],\n                [0, 255, 255],\n                [100, 0, 255],\n            ],\n        },\n        {\n            key: \"w\",\n            type: \"number[]\",\n            label: \"W\",\n            default: [0, 63, 127, 191, 255],\n        },\n    ],\n    /* Effect Output Type */\n    output: \"rgbw[]\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction Progress(t, w) {\n    const start_time = +new Date();\n    return () => {\n        const delta = (+new Date() - start_time) / (t * 1000);\n        // how far along in this cycle\n        const i = Math.floor(delta * w) % w;\n        // cycles between 0 and 1\n        const c = Math.floor(delta) % 2;\n        return { i, c };\n    };\n}\nfunction take(x, i) {\n    return x[i % x.length];\n}\nfunction effect(x, globals) {\n    // initialization\n    // const A = +new Date();\n    if (typeof this.progress === \"undefined\") {\n        this.progress = Progress(x.r, x.w);\n    }\n    // const B = +new Date();\n    const { i, c } = this.progress();\n    // const C = +new Date();\n    const out = new Array(globals.leds);\n    // const D = +new Date();\n    const left = x.x;\n    const right = x.y;\n    // const E = +new Date();\n    for (let j = 0; j < globals.leds; j++)\n        out[j] = take(c ^ +(j % x.w > i) ? left : right, j);\n    // const F = +new Date();\n    // console.log(`A: ${B - A} B: ${C - B} C: ${D - C} D: ${E - D} E: ${F - E}`);\n    return out;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"Venetian Slide\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"x\",\n            type: \"rgb[]\",\n            label: \"Show 1\",\n            default: [[0, 0, 255]],\n        },\n        {\n            key: \"y\",\n            type: \"rgb[]\",\n            label: \"Show 2\",\n            default: [[100, 0, 255]],\n        },\n        {\n            key: \"r\",\n            type: \"number\",\n            label: \"Rate (Seconds)\",\n            default: 5,\n            min: 1,\n            max: 1000,\n        },\n        {\n            key: \"w\",\n            type: \"number\",\n            label: \"Width\",\n            default: 20,\n            min: 2,\n            max: 100,\n        },\n    ],\n    /* Effect Output Type */\n    output: \"rgb[]\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst register_1 = require(\"../register\");\nfunction Progress(t, w) {\n    const start_time = +new Date();\n    return () => {\n        const delta = (+new Date() - start_time) / (t * 1000);\n        // how far along in this cycle\n        const i = Math.floor(delta * w) % w;\n        // cycles between 0 and 1\n        const c = Math.floor(delta) % 2;\n        return { i, c };\n    };\n}\nfunction take(x, i) {\n    return x[i % x.length];\n}\nfunction effect(x, globals) {\n    // initialization\n    const A = +new Date();\n    if (typeof this.progress === \"undefined\") {\n        this.progress = Progress(x.r, x.w);\n    }\n    const B = +new Date();\n    const { i, c } = this.progress();\n    const C = +new Date();\n    const out = new Array(globals.leds);\n    const D = +new Date();\n    const left = x.x;\n    const right = x.y;\n    const E = +new Date();\n    for (let j = 0; j < globals.leds; j++)\n        out[j] = take(c ^ +(j % x.w > i) ^ Math.floor(j / x.w) % 2 ? left : right, j);\n    const F = +new Date();\n    console.log(`A: ${B - A} B: ${C - B} C: ${D - C} D: ${E - D} E: ${F - E}`);\n    return out;\n}\n(0, register_1.register)({\n    /* Effect Name */\n    name: \"Venetian\",\n    /* Effect Function */\n    func: effect,\n    /* Effect Inputs */\n    input: [\n        {\n            key: \"x\",\n            type: \"rgb[]\",\n            label: \"Show 1\",\n            default: [\n                [0, 0, 255],\n                [0, 255, 255],\n                [100, 0, 255],\n            ],\n        },\n        {\n            key: \"y\",\n            type: \"rgb[]\",\n            label: \"Show 2\",\n            default: [\n                [0, 0, 255],\n                [0, 255, 255],\n                [100, 0, 255],\n            ],\n        },\n        {\n            key: \"r\",\n            type: \"number\",\n            label: \"Rate (Seconds)\",\n            default: 5,\n            min: 1,\n            max: 1000,\n        },\n        {\n            key: \"w\",\n            type: \"number\",\n            label: \"Width\",\n            default: 20,\n            min: 2,\n            max: 100,\n        },\n    ],\n    /* Effect Output Type */\n    output: \"rgb[]\",\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.load = void 0;\nconst register_1 = require(\"./register\");\n// expose the definitions to backends\nfunction load(cb) {\n    for (let d of register_1.defs)\n        cb(d);\n}\nexports.load = load;\n// yes, this import should come last\nrequire(\"./src/index\");\n"],"names":["Object","defineProperty","exports","value","register","defs","x","push","name","func","inputs","globals","colors","rate","this","state","Array","leds","i","Math","floor","random","length","prev_time","Date","frac","now","delta","ic","e","console","log","input","key","type","label","default","min","max","output","dir","count","out","fill","rgb","w","take","progress","t","start_time","c","Progress","r","left","right","y","j","A","B","C","D","E","F","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"sourceRoot":""}